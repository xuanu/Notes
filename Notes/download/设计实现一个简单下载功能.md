# 设计实现一个简单下载功能  
> 设计和实现一个下载的功能：**断点下载**。  
> 要想实现断点下载就必须要使用到数据库:[android-lite-orm](https://github.com/litesuits/android-lite-orm);  
### 简单的构想  
1. 一次能同时下载多少个任务。  
> 定长线程池：`ExecutorService fixedThreadPool = Executors.newFixedThreadPool(3);` 其中3为同时进行3个线程。  
2. 执行中的线程怎么做暂停  
> 执行中的线程应该是没有暂停操作的，所以在开启线程时，存入HashMap中，当暂停时，从HashMap中取出线程，设置暂停状态。其实应该也没有暂停状态，只是在这个时候跳出读Buff的操作，并结束掉当前线程。  
> 线程暂停其实就是提前结束当前线程，当继续下载时，其实是开了一个新的线程。  
3. 怎么通知界面  
> 用回调来做吧，隔2秒回调或者可以让用户填入几秒回调。  
4. 断点下载  
> 断点下载其实就是下载前看看数据库自己下载了多少，传给服务器，这样就可以少下载一点。  
5. 分块下载  
> 把大的文件分成几块来下，每一块的大小就会缩小。当下载一块的速率占不满当前网络的时候，分块会好一点。经过多次测试，稍微大一点的文件，分块下载会好一点。  
### 实现 
  